{"uid":"bae6adbeb125c31d","name":"test_user_auth[case28]","fullName":"tests.test_user_auth#test_user_auth","historyId":"598b4be3625efc5c6450c874f758643c","time":{"start":1753991300063,"stop":1753991300063,"duration":0},"status":"failed","statusMessage":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","statusTrace":"@pytest.fixture(scope=\"function\")\n    def test_user():\n        \"\"\"创建测试用户\"\"\"\n        username = \"test_\" + ''.join(random.choices(string.ascii_lowercase, k=6))\n        email = f\"{username}@example.com\"\n        password = \"Test123456\"\n    \n        # 发送验证码并断言成功\n        send_response = Request.send_request(\n            \"POST\", \"/auth/send-verify-code\",\n            params={\"email\": email}\n        )\n>       assert send_response.status_code == 200, f\"发送验证码失败: {send_response.text}\"\nE       AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nE       assert 500 == 200\nE        +  where 500 = <Response [500]>.status_code\n\ntests\\conftest.py:128: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":20,"retriesStatusChange":true,"beforeStages":[{"name":"test_user","time":{"start":1753991300065,"stop":1753991300418,"duration":353},"status":"failed","statusMessage":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code\n","statusTrace":"  File \"D:\\Anaconda3\\Lib\\site-packages\\pluggy\\_callers.py\", line 39, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Anaconda3\\Lib\\site-packages\\_pytest\\fixtures.py\", line 1123, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Anaconda3\\Lib\\site-packages\\_pytest\\fixtures.py\", line 895, in call_fixture_func\n    fixture_result = next(generator)\n                     ^^^^^^^^^^^^^^^\n  File \"D:\\工作记录\\项目说明\\api_test\\tests\\conftest.py\", line 128, in test_user\n    assert send_response.status_code == 200, f\"发送验证码失败: {send_response.text}\"\n","steps":[{"name":"发送请求：'POST' '/auth/send-verify-code'","time":{"start":1753991300065,"stop":1753991300417,"duration":352},"status":"passed","steps":[],"attachments":[{"uid":"a01cd1aae67506ec","name":"请求信息","source":"a01cd1aae67506ec.txt","type":"text/plain","size":52},{"uid":"ff39b23330025465","name":"请求头","source":"ff39b23330025465.txt","type":"text/plain","size":45},{"uid":"4a4faa8dbcea3dcc","name":"请求参数","source":"4a4faa8dbcea3dcc.json","type":"application/json","size":44},{"uid":"e6f159b3477dcea1","name":"响应信息","source":"e6f159b3477dcea1.txt","type":"text/plain","size":14},{"uid":"b1d0bc67835f072d","name":"响应体","source":"b1d0bc67835f072d.json","type":"application/json","size":81}],"parameters":[{"name":"method","value":"'POST'"},{"name":"endpoint","value":"'/auth/send-verify-code'"},{"name":"headers","value":"None"},{"name":"params","value":"{'email': 'test_lflfhv@example.com'}"},{"name":"json","value":"None"},{"name":"files","value":"None"},{"name":"token","value":"None"}],"attachmentsCount":5,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":5,"shouldDisplayMessage":true,"hasContent":true,"attachmentStep":false,"stepsCount":1}],"testStage":{"status":"failed","statusMessage":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","statusTrace":"@pytest.fixture(scope=\"function\")\n    def test_user():\n        \"\"\"创建测试用户\"\"\"\n        username = \"test_\" + ''.join(random.choices(string.ascii_lowercase, k=6))\n        email = f\"{username}@example.com\"\n        password = \"Test123456\"\n    \n        # 发送验证码并断言成功\n        send_response = Request.send_request(\n            \"POST\", \"/auth/send-verify-code\",\n            params={\"email\": email}\n        )\n>       assert send_response.status_code == 200, f\"发送验证码失败: {send_response.text}\"\nE       AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nE       assert 500 == 200\nE        +  where 500 = <Response [500]>.status_code\n\ntests\\conftest.py:128: AssertionError","steps":[],"attachments":[{"uid":"aa59f64502e0e050","name":"log","source":"aa59f64502e0e050.txt","type":"text/plain","size":407},{"uid":"17d7d7d3121d4451","name":"stderr","source":"17d7d7d3121d4451.txt","type":"text/plain","size":300}],"parameters":[],"attachmentsCount":2,"shouldDisplayMessage":true,"hasContent":true,"attachmentStep":false,"stepsCount":0},"afterStages":[],"labels":[{"name":"feature","value":"用户认证模块"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_user_auth"},{"name":"host","value":"CYJ"},{"name":"thread","value":"28060-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_user_auth"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"case","value":"{'case_id': 'auth_029', 'name': '未登录状态上传头像', 'method': 'POST', 'url': '/auth/upload/avatar', 'headers': {'Content-Type': 'multipart/form-data'}, 'files': {'file': 'test_avatar.png'}, 'expected_code': 403, 'expected_success': False}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"3f67dba6090ac319","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753991001012,"stop":1753991001012,"duration":0}},{"uid":"b7e8423d280e4790","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753990609591,"stop":1753990609591,"duration":0}},{"uid":"8249e30f92a93b54","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753990584303,"stop":1753990584303,"duration":0}},{"uid":"f568986875dcbf4a","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753990539407,"stop":1753990539407,"duration":0}},{"uid":"522d5efb0b98ab40","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753990313599,"stop":1753990313599,"duration":0}},{"uid":"ece664750350c2a3","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753990158943,"stop":1753990158943,"duration":0}},{"uid":"1839eb001c36a24e","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753989682174,"stop":1753989682174,"duration":0}},{"uid":"ad25af4b99db600d","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753989288817,"stop":1753989288817,"duration":0}},{"uid":"c74ccd05a57bc44d","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753988725114,"stop":1753988725114,"duration":0}},{"uid":"e996d2f04c81a45d","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753988272361,"stop":1753988272361,"duration":0}},{"uid":"9dbf70bda60662e","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753987889763,"stop":1753987889763,"duration":0}},{"uid":"54a82106cefa64c0","status":"passed","time":{"start":1753986252016,"stop":1753986252061,"duration":45}},{"uid":"d57ccd0b122038e7","status":"passed","time":{"start":1753985544702,"stop":1753985544709,"duration":7}},{"uid":"25c709fd78917e0c","status":"passed","time":{"start":1753976496257,"stop":1753976496273,"duration":16}},{"uid":"6e8986a1fbb19df7","status":"passed","time":{"start":1753976350502,"stop":1753976350519,"duration":17}},{"uid":"191f2a8e50a3f3c5","status":"passed","time":{"start":1753975918037,"stop":1753975918088,"duration":51}},{"uid":"e108560bc9608613","status":"passed","time":{"start":1753974412639,"stop":1753974412676,"duration":37}},{"uid":"6556796f2123a553","status":"passed","time":{"start":1753973834389,"stop":1753973834403,"duration":14}},{"uid":"2022cb8e3231c273","status":"passed","time":{"start":1753973679950,"stop":1753973679975,"duration":25}},{"uid":"f19b1b0866cc773d","status":"passed","time":{"start":1753972616248,"stop":1753972616280,"duration":32}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"bae6adbeb125c31d.json","parameterValues":["{'case_id': 'auth_029', 'name': '未登录状态上传头像', 'method': 'POST', 'url': '/auth/upload/avatar', 'headers': {'Content-Type': 'multipart/form-data'}, 'files': {'file': 'test_avatar.png'}, 'expected_code': 403, 'expected_success': False}"]}