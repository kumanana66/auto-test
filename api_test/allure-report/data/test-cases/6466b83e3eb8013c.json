{"uid":"6466b83e3eb8013c","name":"test_user_auth[case19]","fullName":"tests.test_user_auth#test_user_auth","historyId":"a4ee8e22309c74eb95727db2424ff9ae","time":{"start":1753991296931,"stop":1753991296931,"duration":0},"status":"failed","statusMessage":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","statusTrace":"@pytest.fixture(scope=\"function\")\n    def test_user():\n        \"\"\"创建测试用户\"\"\"\n        username = \"test_\" + ''.join(random.choices(string.ascii_lowercase, k=6))\n        email = f\"{username}@example.com\"\n        password = \"Test123456\"\n    \n        # 发送验证码并断言成功\n        send_response = Request.send_request(\n            \"POST\", \"/auth/send-verify-code\",\n            params={\"email\": email}\n        )\n>       assert send_response.status_code == 200, f\"发送验证码失败: {send_response.text}\"\nE       AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nE       assert 500 == 200\nE        +  where 500 = <Response [500]>.status_code\n\ntests\\conftest.py:128: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":32,"retriesStatusChange":true,"beforeStages":[{"name":"test_user","time":{"start":1753991296931,"stop":1753991297191,"duration":260},"status":"failed","statusMessage":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code\n","statusTrace":"  File \"D:\\Anaconda3\\Lib\\site-packages\\pluggy\\_callers.py\", line 39, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Anaconda3\\Lib\\site-packages\\_pytest\\fixtures.py\", line 1123, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Anaconda3\\Lib\\site-packages\\_pytest\\fixtures.py\", line 895, in call_fixture_func\n    fixture_result = next(generator)\n                     ^^^^^^^^^^^^^^^\n  File \"D:\\工作记录\\项目说明\\api_test\\tests\\conftest.py\", line 128, in test_user\n    assert send_response.status_code == 200, f\"发送验证码失败: {send_response.text}\"\n","steps":[{"name":"发送请求：'POST' '/auth/send-verify-code'","time":{"start":1753991296931,"stop":1753991297191,"duration":260},"status":"passed","steps":[],"attachments":[{"uid":"5d5451b6958d1a38","name":"请求信息","source":"5d5451b6958d1a38.txt","type":"text/plain","size":52},{"uid":"ae27b513dd3f1d0","name":"请求头","source":"ae27b513dd3f1d0.txt","type":"text/plain","size":45},{"uid":"d143380b77f2e702","name":"请求参数","source":"d143380b77f2e702.json","type":"application/json","size":44},{"uid":"a9e5eb6917e95942","name":"响应信息","source":"a9e5eb6917e95942.txt","type":"text/plain","size":14},{"uid":"797c16bcf1638ddd","name":"响应体","source":"797c16bcf1638ddd.json","type":"application/json","size":81}],"parameters":[{"name":"method","value":"'POST'"},{"name":"endpoint","value":"'/auth/send-verify-code'"},{"name":"headers","value":"None"},{"name":"params","value":"{'email': 'test_xgiafr@example.com'}"},{"name":"json","value":"None"},{"name":"files","value":"None"},{"name":"token","value":"None"}],"attachmentsCount":5,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":5,"shouldDisplayMessage":true,"hasContent":true,"attachmentStep":false,"stepsCount":1}],"testStage":{"status":"failed","statusMessage":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","statusTrace":"@pytest.fixture(scope=\"function\")\n    def test_user():\n        \"\"\"创建测试用户\"\"\"\n        username = \"test_\" + ''.join(random.choices(string.ascii_lowercase, k=6))\n        email = f\"{username}@example.com\"\n        password = \"Test123456\"\n    \n        # 发送验证码并断言成功\n        send_response = Request.send_request(\n            \"POST\", \"/auth/send-verify-code\",\n            params={\"email\": email}\n        )\n>       assert send_response.status_code == 200, f\"发送验证码失败: {send_response.text}\"\nE       AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nE       assert 500 == 200\nE        +  where 500 = <Response [500]>.status_code\n\ntests\\conftest.py:128: AssertionError","steps":[],"attachments":[{"uid":"455d8d5e2afca49e","name":"log","source":"455d8d5e2afca49e.txt","type":"text/plain","size":407},{"uid":"22a5a36ca77ae4af","name":"stderr","source":"22a5a36ca77ae4af.txt","type":"text/plain","size":300}],"parameters":[],"attachmentsCount":2,"shouldDisplayMessage":true,"hasContent":true,"attachmentStep":false,"stepsCount":0},"afterStages":[],"labels":[{"name":"feature","value":"用户认证模块"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_user_auth"},{"name":"host","value":"CYJ"},{"name":"thread","value":"28060-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_user_auth"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"case","value":"{'case_id': 'auth_020', 'name': '账号锁定后登录', 'method': 'POST', 'url': '/auth/login', 'json': {'username': 'lockeduser', 'password': 'Test123456'}, 'expected_code': 401, 'expected_success': False, 'expected_message': '账号已锁定，请30分钟后再试'}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"6c924bab2ba7caa0","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753990997929,"stop":1753990997929,"duration":0}},{"uid":"e706f5b68b4df713","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753990606673,"stop":1753990606673,"duration":0}},{"uid":"551226e22a87c49b","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753990581202,"stop":1753990581202,"duration":0}},{"uid":"4d3778ba17997657","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753990536469,"stop":1753990536469,"duration":0}},{"uid":"53462dd9ed473ff9","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753990310242,"stop":1753990310242,"duration":0}},{"uid":"ad3073f9cc2da203","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753990156023,"stop":1753990156023,"duration":0}},{"uid":"e24692f561d19032","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753989678550,"stop":1753989678550,"duration":0}},{"uid":"2afbe5067a0963a4","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753989285742,"stop":1753989285742,"duration":0}},{"uid":"2b212c8ba5a83cf3","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753988721880,"stop":1753988721880,"duration":0}},{"uid":"b30884cbadc05801","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753988268916,"stop":1753988268916,"duration":0}},{"uid":"b7ba6380533db4c2","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753987886418,"stop":1753987886418,"duration":0}},{"uid":"7f4eb68016495f41","status":"passed","time":{"start":1753986231896,"stop":1753986231980,"duration":84}},{"uid":"4b3bc73b3f9b7052","status":"passed","time":{"start":1753985533917,"stop":1753985533938,"duration":21}},{"uid":"caa9627a4b820018","status":"passed","time":{"start":1753976484912,"stop":1753976484957,"duration":45}},{"uid":"880d7be7c5253820","status":"passed","time":{"start":1753976332650,"stop":1753976332685,"duration":35}},{"uid":"fcc7be0315d5027f","status":"passed","time":{"start":1753975900181,"stop":1753975900225,"duration":44}},{"uid":"3a9fa43957b0a803","status":"passed","time":{"start":1753974395542,"stop":1753974395558,"duration":16}},{"uid":"a7975fa8de937bd3","status":"passed","time":{"start":1753973817096,"stop":1753973817156,"duration":60}},{"uid":"af0bb2d7e4d92291","status":"passed","time":{"start":1753973667306,"stop":1753973667332,"duration":26}},{"uid":"592112ee9161e7d1","status":"passed","time":{"start":1753972605185,"stop":1753972605201,"duration":16}},{"uid":"ff4038abfbd0b7eb","status":"passed","time":{"start":1753971269126,"stop":1753971269173,"duration":47}},{"uid":"76403ae691c82526","status":"passed","time":{"start":1753970518218,"stop":1753970518267,"duration":49}},{"uid":"1643a336a03c0f62","status":"passed","time":{"start":1753970292646,"stop":1753970292665,"duration":19}},{"uid":"80fcc5e014efb7c1","status":"passed","time":{"start":1753969958174,"stop":1753969958232,"duration":58}},{"uid":"9ad4b1022acd2262","status":"passed","time":{"start":1753969624769,"stop":1753969624834,"duration":65}},{"uid":"593c1efcaebab629","status":"passed","time":{"start":1753969393838,"stop":1753969393865,"duration":27}},{"uid":"cdc255e2c1b239db","status":"passed","time":{"start":1753969131715,"stop":1753969131770,"duration":55}},{"uid":"d8829908f59028c1","status":"passed","time":{"start":1753968174770,"stop":1753968174806,"duration":36}},{"uid":"80581f4d3323ad4b","status":"passed","time":{"start":1753967371410,"stop":1753967371445,"duration":35}},{"uid":"83839952693b284b","status":"broken","statusDetails":"KeyError: 'url'","time":{"start":1753967267545,"stop":1753967267545,"duration":0}},{"uid":"7a7a399cb370afdb","status":"broken","statusDetails":"requests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/auth/login (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001657E09DE50>: Failed to establish a new connection: [WinError 10061] 由于目标计算机积极拒绝，无法连接。'))","time":{"start":1753967192535,"stop":1753967192535,"duration":0}},{"uid":"5cdb655385f5b43f","status":"broken","statusDetails":"KeyError: 'url'","time":{"start":1753966889703,"stop":1753966889703,"duration":0}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"6466b83e3eb8013c.json","parameterValues":["{'case_id': 'auth_020', 'name': '账号锁定后登录', 'method': 'POST', 'url': '/auth/login', 'json': {'username': 'lockeduser', 'password': 'Test123456'}, 'expected_code': 401, 'expected_success': False, 'expected_message': '账号已锁定，请30分钟后再试'}"]}