{"uid":"8255a503b60a8795","name":"test_user_auth[case17]","fullName":"tests.test_user_auth#test_user_auth","historyId":"ed3f45c59323887e8b4d69b096c8fdf0","time":{"start":1753991296309,"stop":1753991296309,"duration":0},"status":"failed","statusMessage":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","statusTrace":"@pytest.fixture(scope=\"function\")\n    def test_user():\n        \"\"\"创建测试用户\"\"\"\n        username = \"test_\" + ''.join(random.choices(string.ascii_lowercase, k=6))\n        email = f\"{username}@example.com\"\n        password = \"Test123456\"\n    \n        # 发送验证码并断言成功\n        send_response = Request.send_request(\n            \"POST\", \"/auth/send-verify-code\",\n            params={\"email\": email}\n        )\n>       assert send_response.status_code == 200, f\"发送验证码失败: {send_response.text}\"\nE       AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nE       assert 500 == 200\nE        +  where 500 = <Response [500]>.status_code\n\ntests\\conftest.py:128: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":32,"retriesStatusChange":true,"beforeStages":[{"name":"test_user","time":{"start":1753991296310,"stop":1753991296619,"duration":309},"status":"failed","statusMessage":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code\n","statusTrace":"  File \"D:\\Anaconda3\\Lib\\site-packages\\pluggy\\_callers.py\", line 39, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Anaconda3\\Lib\\site-packages\\_pytest\\fixtures.py\", line 1123, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Anaconda3\\Lib\\site-packages\\_pytest\\fixtures.py\", line 895, in call_fixture_func\n    fixture_result = next(generator)\n                     ^^^^^^^^^^^^^^^\n  File \"D:\\工作记录\\项目说明\\api_test\\tests\\conftest.py\", line 128, in test_user\n    assert send_response.status_code == 200, f\"发送验证码失败: {send_response.text}\"\n","steps":[{"name":"发送请求：'POST' '/auth/send-verify-code'","time":{"start":1753991296310,"stop":1753991296619,"duration":309},"status":"passed","steps":[],"attachments":[{"uid":"35c4b5c20882c769","name":"请求信息","source":"35c4b5c20882c769.txt","type":"text/plain","size":52},{"uid":"bb26cb984332e80e","name":"请求头","source":"bb26cb984332e80e.txt","type":"text/plain","size":45},{"uid":"97718fd8668b91a7","name":"请求参数","source":"97718fd8668b91a7.json","type":"application/json","size":44},{"uid":"ec92828f2bb011c9","name":"响应信息","source":"ec92828f2bb011c9.txt","type":"text/plain","size":14},{"uid":"78c4760d7eb69008","name":"响应体","source":"78c4760d7eb69008.json","type":"application/json","size":81}],"parameters":[{"name":"method","value":"'POST'"},{"name":"endpoint","value":"'/auth/send-verify-code'"},{"name":"headers","value":"None"},{"name":"params","value":"{'email': 'test_paykpq@example.com'}"},{"name":"json","value":"None"},{"name":"files","value":"None"},{"name":"token","value":"None"}],"attachmentsCount":5,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":5,"shouldDisplayMessage":true,"hasContent":true,"attachmentStep":false,"stepsCount":1}],"testStage":{"status":"failed","statusMessage":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","statusTrace":"@pytest.fixture(scope=\"function\")\n    def test_user():\n        \"\"\"创建测试用户\"\"\"\n        username = \"test_\" + ''.join(random.choices(string.ascii_lowercase, k=6))\n        email = f\"{username}@example.com\"\n        password = \"Test123456\"\n    \n        # 发送验证码并断言成功\n        send_response = Request.send_request(\n            \"POST\", \"/auth/send-verify-code\",\n            params={\"email\": email}\n        )\n>       assert send_response.status_code == 200, f\"发送验证码失败: {send_response.text}\"\nE       AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nE       assert 500 == 200\nE        +  where 500 = <Response [500]>.status_code\n\ntests\\conftest.py:128: AssertionError","steps":[],"attachments":[{"uid":"d4dcebbbc5d0ee8e","name":"log","source":"d4dcebbbc5d0ee8e.txt","type":"text/plain","size":407},{"uid":"3850770b7cd0beba","name":"stderr","source":"3850770b7cd0beba.txt","type":"text/plain","size":300}],"parameters":[],"attachmentsCount":2,"shouldDisplayMessage":true,"hasContent":true,"attachmentStep":false,"stepsCount":0},"afterStages":[],"labels":[{"name":"feature","value":"用户认证模块"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_user_auth"},{"name":"host","value":"CYJ"},{"name":"thread","value":"28060-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_user_auth"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"case","value":"{'case_id': 'auth_018', 'name': '用户名不存在登录', 'method': 'POST', 'url': '/auth/login', 'json': {'username': 'nonexistent', 'password': 'Test123456'}, 'expected_code': 401, 'expected_success': False, 'expected_message': '用户名或密码错误，请稍后再试'}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"dfcd9fc41fac98be","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753990997236,"stop":1753990997236,"duration":0}},{"uid":"11012b91170242d4","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753990605951,"stop":1753990605951,"duration":0}},{"uid":"ead72c8a467513f8","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753990580452,"stop":1753990580452,"duration":0}},{"uid":"add24020f8d127da","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753990535848,"stop":1753990535848,"duration":0}},{"uid":"51f40bf8670ecfc9","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753990309549,"stop":1753990309549,"duration":0}},{"uid":"da98d90eba83bb48","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753990155420,"stop":1753990155420,"duration":0}},{"uid":"f96a4d32dae8ca69","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753989677777,"stop":1753989677777,"duration":0}},{"uid":"b58cbd253a5e4e4e","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753989285007,"stop":1753989285007,"duration":0}},{"uid":"826fdd57ce4a7788","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753988720996,"stop":1753988720996,"duration":0}},{"uid":"8ace1da6940d3bde","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753988268118,"stop":1753988268118,"duration":0}},{"uid":"d1eb4c7f4669ad8f","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753987885616,"stop":1753987885616,"duration":0}},{"uid":"e7f57b4c464d0c22","status":"passed","time":{"start":1753986227540,"stop":1753986227602,"duration":62}},{"uid":"ca92a5693ea27c41","status":"passed","time":{"start":1753985529570,"stop":1753985529601,"duration":31}},{"uid":"f89d1654397d43eb","status":"passed","time":{"start":1753976481205,"stop":1753976481253,"duration":48}},{"uid":"2eb82dbb1d8404ea","status":"passed","time":{"start":1753976328387,"stop":1753976328439,"duration":52}},{"uid":"d093ab9137a3cf0b","status":"passed","time":{"start":1753975895753,"stop":1753975895771,"duration":18}},{"uid":"d1e5863139023e3d","status":"passed","time":{"start":1753974391141,"stop":1753974391187,"duration":46}},{"uid":"a1c165185f010985","status":"passed","time":{"start":1753973812727,"stop":1753973812773,"duration":46}},{"uid":"290b81c33c151377","status":"passed","time":{"start":1753973664729,"stop":1753973664749,"duration":20}},{"uid":"edfb24b661d73d3b","status":"passed","time":{"start":1753972602840,"stop":1753972602858,"duration":18}},{"uid":"b067be4bd4d097fe","status":"passed","time":{"start":1753971265213,"stop":1753971265277,"duration":64}},{"uid":"eeb145532394a66a","status":"passed","time":{"start":1753970514549,"stop":1753970514579,"duration":30}},{"uid":"7e95a85ba87fedb5","status":"passed","time":{"start":1753970289208,"stop":1753970289282,"duration":74}},{"uid":"d01913a32d836e13","status":"passed","time":{"start":1753969953358,"stop":1753969953414,"duration":56}},{"uid":"7cfe55e0c749b1a3","status":"passed","time":{"start":1753969620239,"stop":1753969620314,"duration":75}},{"uid":"6cf506e4a9afe193","status":"passed","time":{"start":1753969390288,"stop":1753969390318,"duration":30}},{"uid":"58c87d863988fdd8","status":"passed","time":{"start":1753969126796,"stop":1753969126858,"duration":62}},{"uid":"8b9991414c5928fd","status":"passed","time":{"start":1753968171455,"stop":1753968171486,"duration":31}},{"uid":"a2740fce2309ec1b","status":"passed","time":{"start":1753967370976,"stop":1753967371013,"duration":37}},{"uid":"a157f89979eb6850","status":"broken","statusDetails":"KeyError: 'url'","time":{"start":1753967267504,"stop":1753967267504,"duration":0}},{"uid":"e0c688016b5af7e1","status":"broken","statusDetails":"requests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/auth/login (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001657E09DE50>: Failed to establish a new connection: [WinError 10061] 由于目标计算机积极拒绝，无法连接。'))","time":{"start":1753967191496,"stop":1753967191496,"duration":0}},{"uid":"1435899d70d5419d","status":"broken","statusDetails":"KeyError: 'url'","time":{"start":1753966889565,"stop":1753966889565,"duration":0}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"8255a503b60a8795.json","parameterValues":["{'case_id': 'auth_018', 'name': '用户名不存在登录', 'method': 'POST', 'url': '/auth/login', 'json': {'username': 'nonexistent', 'password': 'Test123456'}, 'expected_code': 401, 'expected_success': False, 'expected_message': '用户名或密码错误，请稍后再试'}"]}