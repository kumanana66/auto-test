{"uid":"6f9350f4b3c1854c","name":"test_user_auth[case16]","fullName":"tests.test_user_auth#test_user_auth","historyId":"93438feb1da65414ed4d738c17ba9f37","time":{"start":1753991295900,"stop":1753991295900,"duration":0},"status":"failed","statusMessage":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","statusTrace":"@pytest.fixture(scope=\"function\")\n    def test_user():\n        \"\"\"创建测试用户\"\"\"\n        username = \"test_\" + ''.join(random.choices(string.ascii_lowercase, k=6))\n        email = f\"{username}@example.com\"\n        password = \"Test123456\"\n    \n        # 发送验证码并断言成功\n        send_response = Request.send_request(\n            \"POST\", \"/auth/send-verify-code\",\n            params={\"email\": email}\n        )\n>       assert send_response.status_code == 200, f\"发送验证码失败: {send_response.text}\"\nE       AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nE       assert 500 == 200\nE        +  where 500 = <Response [500]>.status_code\n\ntests\\conftest.py:128: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":32,"retriesStatusChange":true,"beforeStages":[{"name":"test_user","time":{"start":1753991295902,"stop":1753991296273,"duration":371},"status":"failed","statusMessage":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code\n","statusTrace":"  File \"D:\\Anaconda3\\Lib\\site-packages\\pluggy\\_callers.py\", line 39, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Anaconda3\\Lib\\site-packages\\_pytest\\fixtures.py\", line 1123, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Anaconda3\\Lib\\site-packages\\_pytest\\fixtures.py\", line 895, in call_fixture_func\n    fixture_result = next(generator)\n                     ^^^^^^^^^^^^^^^\n  File \"D:\\工作记录\\项目说明\\api_test\\tests\\conftest.py\", line 128, in test_user\n    assert send_response.status_code == 200, f\"发送验证码失败: {send_response.text}\"\n","steps":[{"name":"发送请求：'POST' '/auth/send-verify-code'","time":{"start":1753991295902,"stop":1753991296273,"duration":371},"status":"passed","steps":[],"attachments":[{"uid":"cbe791623725fc13","name":"请求信息","source":"cbe791623725fc13.txt","type":"text/plain","size":52},{"uid":"129a8b3984651695","name":"请求头","source":"129a8b3984651695.txt","type":"text/plain","size":45},{"uid":"5ab31fb93e36c115","name":"请求参数","source":"5ab31fb93e36c115.json","type":"application/json","size":44},{"uid":"380a476e3e37dddc","name":"响应信息","source":"380a476e3e37dddc.txt","type":"text/plain","size":14},{"uid":"6782840843c0c8b9","name":"响应体","source":"6782840843c0c8b9.json","type":"application/json","size":81}],"parameters":[{"name":"method","value":"'POST'"},{"name":"endpoint","value":"'/auth/send-verify-code'"},{"name":"headers","value":"None"},{"name":"params","value":"{'email': 'test_qynrap@example.com'}"},{"name":"json","value":"None"},{"name":"files","value":"None"},{"name":"token","value":"None"}],"attachmentsCount":5,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":5,"shouldDisplayMessage":true,"hasContent":true,"attachmentStep":false,"stepsCount":1}],"testStage":{"status":"failed","statusMessage":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","statusTrace":"@pytest.fixture(scope=\"function\")\n    def test_user():\n        \"\"\"创建测试用户\"\"\"\n        username = \"test_\" + ''.join(random.choices(string.ascii_lowercase, k=6))\n        email = f\"{username}@example.com\"\n        password = \"Test123456\"\n    \n        # 发送验证码并断言成功\n        send_response = Request.send_request(\n            \"POST\", \"/auth/send-verify-code\",\n            params={\"email\": email}\n        )\n>       assert send_response.status_code == 200, f\"发送验证码失败: {send_response.text}\"\nE       AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nE       assert 500 == 200\nE        +  where 500 = <Response [500]>.status_code\n\ntests\\conftest.py:128: AssertionError","steps":[],"attachments":[{"uid":"8ad78c908bc83896","name":"log","source":"8ad78c908bc83896.txt","type":"text/plain","size":407},{"uid":"769dde48ed8f0c69","name":"stderr","source":"769dde48ed8f0c69.txt","type":"text/plain","size":300}],"parameters":[],"attachmentsCount":2,"shouldDisplayMessage":true,"hasContent":true,"attachmentStep":false,"stepsCount":0},"afterStages":[],"labels":[{"name":"feature","value":"用户认证模块"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_user_auth"},{"name":"host","value":"CYJ"},{"name":"thread","value":"28060-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_user_auth"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"case","value":"{'case_id': 'auth_017', 'name': '正确账号密码登录', 'method': 'POST', 'url': '/auth/login', 'json': {'username': 'admin1155', 'password': 'admin1155'}, 'expected_code': 200, 'expected_success': True, 'expected_message': '登录成功', 'extract': {'token': '$.data.token'}}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"1159bf9a0ac832be","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753990996869,"stop":1753990996869,"duration":0}},{"uid":"b2952dd87337a246","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753990605584,"stop":1753990605584,"duration":0}},{"uid":"1e4c0860626bdf","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753990580177,"stop":1753990580177,"duration":0}},{"uid":"2c06c4bc313cd659","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753990535553,"stop":1753990535553,"duration":0}},{"uid":"4770ddc238a6a36d","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753990309202,"stop":1753990309202,"duration":0}},{"uid":"d6b6c3fa2a2a861c","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753990155124,"stop":1753990155124,"duration":0}},{"uid":"74a970697a337bfd","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753989677405,"stop":1753989677405,"duration":0}},{"uid":"13c650f7a00db2b6","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753989284647,"stop":1753989284647,"duration":0}},{"uid":"ae06a82624cff136","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753988720651,"stop":1753988720651,"duration":0}},{"uid":"ad915065ab3d04b5","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753988267694,"stop":1753988267694,"duration":0}},{"uid":"7d952721dd0bbcb9","status":"failed","statusDetails":"AssertionError: 发送验证码失败: {\"success\":false,\"message\":\"发送验证码失败，请稍后重试\",\"data\":null}\nassert 500 == 200\n +  where 500 = <Response [500]>.status_code","time":{"start":1753987885288,"stop":1753987885288,"duration":0}},{"uid":"ac1d32133132e03e","status":"passed","time":{"start":1753986224842,"stop":1753986225019,"duration":177}},{"uid":"9efee8aef9f1e2f3","status":"passed","time":{"start":1753985509621,"stop":1753985514577,"duration":4956}},{"uid":"45cc23bf14aef8ee","status":"passed","time":{"start":1753976480172,"stop":1753976480328,"duration":156}},{"uid":"28e8ac7c654e0c66","status":"passed","time":{"start":1753976327007,"stop":1753976327226,"duration":219}},{"uid":"b6df5e31b3f2974f","status":"passed","time":{"start":1753975894398,"stop":1753975894722,"duration":324}},{"uid":"32a0e765e08ecd71","status":"passed","time":{"start":1753974388568,"stop":1753974388997,"duration":429}},{"uid":"6ee22b85793b48c7","status":"passed","time":{"start":1753973810340,"stop":1753973810701,"duration":361}},{"uid":"6756de2d47e4d7f9","status":"passed","time":{"start":1753973663218,"stop":1753973663594,"duration":376}},{"uid":"99480939e1891cbd","status":"passed","time":{"start":1753972601322,"stop":1753972601738,"duration":416}},{"uid":"498a11988f4e50dc","status":"passed","time":{"start":1753971262678,"stop":1753971263233,"duration":555}},{"uid":"cd04a4bb41c2492e","status":"passed","time":{"start":1753970512386,"stop":1753970512803,"duration":417}},{"uid":"c7e2c6b3fc2c7d37","status":"passed","time":{"start":1753970286348,"stop":1753970286691,"duration":343}},{"uid":"c14f462c92e18fc3","status":"passed","time":{"start":1753969950817,"stop":1753969951415,"duration":598}},{"uid":"ff3f09d66723407","status":"passed","time":{"start":1753969617770,"stop":1753969618337,"duration":567}},{"uid":"c088b7ad4e877110","status":"passed","time":{"start":1753969388419,"stop":1753969388877,"duration":458}},{"uid":"5a280654c6ecc9e2","status":"passed","time":{"start":1753969124444,"stop":1753969124874,"duration":430}},{"uid":"da5c21334ba5071c","status":"passed","time":{"start":1753968169698,"stop":1753968170047,"duration":349}},{"uid":"b849087fa502d80a","status":"passed","time":{"start":1753967370648,"stop":1753967370962,"duration":314}},{"uid":"e83f2ad48949fe24","status":"broken","statusDetails":"KeyError: 'url'","time":{"start":1753967267486,"stop":1753967267486,"duration":0}},{"uid":"eda7212018407b73","status":"broken","statusDetails":"requests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/auth/login (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001657E09DE50>: Failed to establish a new connection: [WinError 10061] 由于目标计算机积极拒绝，无法连接。'))","time":{"start":1753967190721,"stop":1753967190721,"duration":0}},{"uid":"d0e9241d3c81bbda","status":"broken","statusDetails":"KeyError: 'url'","time":{"start":1753966889542,"stop":1753966889542,"duration":0}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"6f9350f4b3c1854c.json","parameterValues":["{'case_id': 'auth_017', 'name': '正确账号密码登录', 'method': 'POST', 'url': '/auth/login', 'json': {'username': 'admin1155', 'password': 'admin1155'}, 'expected_code': 200, 'expected_success': True, 'expected_message': '登录成功', 'extract': {'token': '$.data.token'}}"]}